{
  "partitionedTables": [
    {
      "name": "financial_line_items",
      "pattern": "type=filings/year=*/financial_line_items.parquet",
      "comment": "XBRL financial statement data including balance sheet, income statement, and cash flow line items from SEC filings. Includes quarterly and annual data with standard GAAP classifications."
    },
    {
      "name": "filing_metadata",
      "pattern": "type=filings/year=*/filing_metadata.parquet",
      "comment": "SEC filing metadata including form types (10-K, 10-Q, 8-K), company information, filing dates, and document URLs. Core reference table for all SEC data."
    },
    {
      "name": "filing_contexts",
      "pattern": "type=filings/year=*/filing_contexts.parquet",
      "comment": "XBRL context metadata defining reporting periods, business segments, and dimensional qualifiers for financial data. Links financial facts to their reporting context."
    },
    {
      "name": "mda_sections",
      "pattern": "type=filings/year=*/mda_sections.parquet",
      "comment": "Management Discussion and Analysis (MD&A) sections extracted from 10-K and 10-Q filings. Contains management narrative about company performance and outlook."
    },
    {
      "name": "xbrl_relationships",
      "pattern": "type=filings/year=*/xbrl_relationships.parquet",
      "comment": "XBRL calculation and presentation linkbase relationships showing how financial concepts relate to each other in SEC filings."
    },
    {
      "name": "insider_transactions",
      "pattern": "type=ownership/year=*/insider_transactions.parquet",
      "comment": "Form 4 insider trading transactions by company officers, directors, and shareholders. Includes buy/sell transactions with prices and volumes."
    },
    {
      "name": "earnings_transcripts",
      "pattern": "type=disclosures/year=*/earnings_transcripts.parquet",
      "comment": "Quarterly earnings call transcripts with management presentations and Q&A sessions. Extracted from earnings webcast transcripts and calls."
    },
    {
      "name": "stock_prices",
      "pattern": "type=market/year=*/stock_prices.parquet",
      "comment": "Daily stock price data including open, high, low, close, and volume for SEC-reporting companies. Historical equity market data."
    },
    {
      "name": "vectorized_blobs",
      "pattern": "type=vectors/year=*/vectorized_blobs.parquet",
      "comment": "Text embeddings and vector representations of SEC filing content for semantic search and analysis. Optional table for AI/ML applications."
    }
  ],
  "constraints": {
    "financial_line_items": {
      "primaryKey": ["filing_id", "context_id", "concept_id"],
      "foreignKeys": [
        {
          "columns": ["filing_id"],
          "targetTable": "filing_metadata",
          "targetColumns": ["filing_id"]
        },
        {
          "columns": ["context_id"],
          "targetTable": "filing_contexts",
          "targetColumns": ["context_id"]
        }
      ]
    },
    "filing_metadata": {
      "primaryKey": ["filing_id"],
      "unique": [
        ["cik", "form_type", "filing_date", "period_end_date"]
      ]
    },
    "filing_contexts": {
      "primaryKey": ["context_id"],
      "foreignKeys": [
        {
          "columns": ["filing_id"],
          "targetTable": "filing_metadata",
          "targetColumns": ["filing_id"]
        }
      ]
    },
    "mda_sections": {
      "primaryKey": ["filing_id", "section_sequence"],
      "foreignKeys": [
        {
          "columns": ["filing_id"],
          "targetTable": "filing_metadata",
          "targetColumns": ["filing_id"]
        }
      ]
    },
    "xbrl_relationships": {
      "primaryKey": ["cik", "filing_date", "linkbase_type", "from_concept", "to_concept", "arc_role"],
      "foreignKeys": [
        {
          "columns": ["cik"],
          "targetTable": "filing_metadata",
          "targetColumns": ["cik"]
        }
      ]
    },
    "insider_transactions": {
      "primaryKey": ["cik", "filing_date", "transaction_date", "reporting_person_cik", "security_title", "shares_transacted", "transaction_code"]
    },
    "earnings_transcripts": {
      "primaryKey": ["cik", "transcript_date", "transcript_id"]
    },
    "stock_prices": {
      "primaryKey": ["cik", "date"]
    },
    "vectorized_blobs": {
      "primaryKey": ["source_table", "source_id", "blob_type"]
    }
  }
}