{
  "comment": "Securities and Exchange Commission financial data including XBRL filings (10-K, 10-Q, 8-K), insider trading transactions, stock prices, and earnings transcripts. Enables financial analysis, regulatory compliance monitoring, and investment research across public companies.",
  "partitionedTables": [
    {
      "name": "financial_line_items",
      "pattern": "cik=*/filing_type=*/year=*/*_facts.parquet",
      "comment": "XBRL financial statement data including balance sheet, income statement, and cash flow line items from SEC filings. Includes quarterly and annual data with standard GAAP classifications."
    },
    {
      "name": "filing_metadata",
      "pattern": "cik=*/filing_type=*/year=*/*_metadata.parquet",
      "comment": "SEC filing metadata including form types (10-K, 10-Q, 8-K), company information, filing dates, and document URLs. Core reference table for all SEC data."
    },
    {
      "name": "filing_contexts",
      "pattern": "cik=*/filing_type=*/year=*/*_contexts.parquet",
      "comment": "XBRL context metadata defining reporting periods, business segments, and dimensional qualifiers for financial data. Links financial facts to their reporting context."
    },
    {
      "name": "mda_sections",
      "pattern": "cik=*/filing_type=*/year=*/*_mda.parquet",
      "comment": "Management Discussion and Analysis (MD&A) sections extracted from 10-K and 10-Q filings. Contains management narrative about company performance and outlook."
    },
    {
      "name": "xbrl_relationships",
      "pattern": "cik=*/filing_type=*/year=*/*_relationships.parquet",
      "comment": "XBRL calculation and presentation linkbase relationships showing how financial concepts relate to each other in SEC filings."
    },
    {
      "name": "insider_transactions",
      "pattern": "cik=*/filing_type=*/year=*/*_insider.parquet",
      "comment": "Form 3/4/5 insider trading transactions by company officers, directors, and shareholders. Includes buy/sell transactions with prices and volumes."
    },
    {
      "name": "earnings_transcripts",
      "pattern": "cik=*/filing_type=*/year=*/*_earnings.parquet",
      "comment": "Quarterly earnings data extracted from 8-K filings. Contains earnings paragraphs and exhibits."
    },
    {
      "name": "stock_prices",
      "pattern": "stock_prices/ticker=*/year=*/*_prices.parquet",
      "comment": "Daily stock price data including open, high, low, close, and volume for SEC-reporting companies. Historical equity market data."
    },
    {
      "name": "vectorized_blobs",
      "pattern": "cik=*/filing_type=*/year=*/*_vectorized.parquet",
      "comment": "Text embeddings and vector representations of SEC filing content for semantic search and analysis. Optional table for AI/ML applications."
    }
  ],
  "constraints": {
    "financial_line_items": {
      "primaryKey": ["filing_id", "context_id", "concept_id"],
      "foreignKeys": [
        {
          "columns": ["filing_id"],
          "targetTable": "filing_metadata",
          "targetColumns": ["filing_id"]
        },
        {
          "columns": ["context_id"],
          "targetTable": "filing_contexts",
          "targetColumns": ["context_id"]
        }
      ]
    },
    "filing_metadata": {
      "primaryKey": ["filing_id"],
      "unique": [
        ["cik", "form_type", "filing_date", "period_end_date"]
      ]
    },
    "filing_contexts": {
      "primaryKey": ["context_id"],
      "foreignKeys": [
        {
          "columns": ["filing_id"],
          "targetTable": "filing_metadata",
          "targetColumns": ["filing_id"]
        }
      ]
    },
    "mda_sections": {
      "primaryKey": ["filing_id", "section_sequence"],
      "foreignKeys": [
        {
          "columns": ["filing_id"],
          "targetTable": "filing_metadata",
          "targetColumns": ["filing_id"]
        }
      ]
    },
    "xbrl_relationships": {
      "primaryKey": ["cik", "filing_date", "linkbase_type", "from_concept", "to_concept", "arc_role"],
      "foreignKeys": [
        {
          "columns": ["cik"],
          "targetTable": "filing_metadata",
          "targetColumns": ["cik"]
        }
      ]
    },
    "insider_transactions": {
      "primaryKey": ["cik", "filing_date", "transaction_date", "reporting_person_cik", "security_title", "shares_transacted", "transaction_code"],
      "foreignKeys": [
        {
          "columns": ["cik"],
          "targetTable": "filing_metadata",
          "targetColumns": ["cik"],
          "comment": "Links insider transactions to company filings for timing analysis and correlation with filing activity"
        }
      ]
    },
    "earnings_transcripts": {
      "primaryKey": ["cik", "transcript_date", "transcript_id"],
      "foreignKeys": [
        {
          "columns": ["cik"],
          "targetTable": "filing_metadata",
          "targetColumns": ["cik"],
          "comment": "Links earnings transcripts to company filings for comprehensive earnings analysis and sentiment correlation"
        }
      ]
    },
    "stock_prices": {
      "primaryKey": ["cik", "date"],
      "foreignKeys": [
        {
          "columns": ["cik"],
          "targetTable": "filing_metadata",
          "targetColumns": ["cik"],
          "comment": "Links stock prices to company filings for event studies and price reaction analysis around filing dates"
        }
      ]
    },
    "vectorized_blobs": {
      "primaryKey": ["source_table", "source_id", "blob_type"]
    }
  }
}
